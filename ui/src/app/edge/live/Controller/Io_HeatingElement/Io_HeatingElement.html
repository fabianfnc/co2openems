<ng-container *ngIf="isInitialized">
    <oe-flat-widget button (click)="presentModal()" [title]="component.alias" [icon]="{color: 'danger', name:'flame'}">
        <oe-flat-widget-line [name]="'General.mode' | translate" [value]="mode | translate">
        </oe-flat-widget-line>
        <oe-flat-widget-line [name]="'General.state' | translate" [value]="state | translate">
        </oe-flat-widget-line>

        <!-- Shown when state is 'active'  -->
        <ng-container *ngIf="(activePhases | async) as activePhases">
            <oe-flat-widget-line *ngIf="activePhases > 0"
                [name]="'Edge.Index.Widgets.Heatingelement.activeLevel' | translate"
                [value]="'Level&nbsp;'+ activePhases">
            </oe-flat-widget-line>
        </ng-container>

        <!-- Shown when mode equals automatic -->
        <oe-flat-widget-line *ngIf="mode == 'General.automatic'"
            [name]="'Edge.Index.Widgets.Heatingelement.timeCountdown' | translate"
            [channelAddress]="component.id + '/ForceStartAtSecondsOfDay'" [converter]="CONVERT_SECONDS_TO_DATE_FORMAT">
        </oe-flat-widget-line>
    </oe-flat-widget>
</ng-container>